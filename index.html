<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Canton Network — Quiz</title>
  <style>
    :root{
      --bg:#062d1f; /* deep green background */
      --card:#0b3f2c;
      --accent:#1aa876;
      --muted:#96cbb2;
      --text:#e6fff6;
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#043022);color:var(--text)}
    .wrap{max-width:900px;margin:48px auto;padding:28px;background:linear-gradient(180deg,var(--card), rgba(8,45,34,0.9));border-radius:16px;box-shadow:0 8px 30px rgba(0,0,0,0.6);backdrop-filter: blur(6px)}
    header{display:flex;align-items:center;gap:16px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#0bb37b);display:flex;align-items:center;justify-content:center;font-weight:700;color:#042d21}
    h1{margin:0;font-size:1.6rem}
    p.lead{color:var(--muted);margin:6px 0 18px}

    .card{background:var(--glass);padding:18px;border-radius:12px;margin-top:16px}
    .question{font-size:1.05rem;margin:0 0 10px}
    .options{display:flex;flex-direction:column;gap:10px}
    .opt{background:rgba(255,255,255,0.02);padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;transition:all .18s;display:flex;align-items:center;gap:10px}
    .opt:hover{transform:translateY(-3px);box-shadow:0 6px 18px rgba(0,0,0,0.45)}
    .opt input{accent-color:var(--accent)}
    footer.controls{display:flex;justify-content:space-between;align-items:center;margin-top:18px}
    button{background:var(--accent);color:#042d21;border:0;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .progress{height:10px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent), #48d19a);width:0%}

    /* results */
    .results{display:none;padding:20px;border-radius:12px;margin-top:16px;background:linear-gradient(180deg, rgba(26,168,118,0.08), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04)}
    .score{font-size:2.2rem;font-weight:800}
    .details{color:var(--muted);margin-top:8px}

    /* responsive */
    @media (max-width:600px){.wrap{margin:18px;padding:16px}.logo{width:48px;height:48px}}
  </style>
</head>
<body>
  <main class="wrap" role="main">
    <header>
      <div class="logo"><img src="stable.jpg" alt="Canton Network logo" style="width:100%;height:100%;object-fit:cover;border-radius:10px;display:block"></div>
      <div>
        <h1>Canton Network — Quick Quiz</h1>
        <p class="lead">Test your knowledge — 10 multiple-choice questions. Select an answer for each question and submit. Your score and percentage appear at the end.</p>
      </div>
    </header>

    <div id="quiz" class="card" aria-live="polite">
      <!-- question area injected by JS -->
    </div>

    <div class="results" id="results" aria-hidden="true">
      <div class="score" id="finalScore">0 / 10</div>
      <div class="details" id="finalDetails">Percentage: 0% — Correct answers will be highlighted below.</div>
      <div id="answerReview" style="margin-top:12px"></div>
      <div style="margin-top:14px;display:flex;gap:8px">
        <button id="restart">Restart Quiz</button>
        <button id="showAnswers" class="ghost">Show Correct Answers</button>
      </div>
    </div>

    <p style="color:var(--muted);font-size:.9rem;margin-top:14px">Project: <strong>Canton Network</strong></p>
  </main>

  <script>
    // Quiz data (10 questions)
    const quizData = [
      { q: "What is the main theme of the 'Connect' page on the Canton Network website?", options: ["Building smart contracts","Connecting to trusted applications and ecosystem","Running DeFi yield farms","Developing mobile wallets"], a: 1 },
      { q: "Which feature does Canton emphasize when connecting assets and applications?", options: ["High throughput without security","Privacy-first tokenization","Centralized control","Public visibility of all transactions"], a: 1 },
      { q: "What approximate Total Value Locked (TVL) is mentioned on the page?", options: ["~$1 T","~$2 T","~$4 T","~$10 T"], a: 2 },
      { q: "Which of the following is not one of the steps listed under 'Start Your Canton Journey'?", options: ["Run a validator","Self-host or use a service provider","Launch a new blockchain","Use privacy / confidential collateral"], a: 2 },
      { q: "Why does the page suggest running a validator?", options: ["To mine new block rewards","To access institutional-grade applications and privacy enabled assets","To become a wallet provider","To develop smart contracts"], a: 1 },
      { q: "'Confidential collateral' refers to which concept?", options: ["Visible collateral on a public blockchain","Collateral that is hidden / private in its details","Collateral held off chain","Non-fungible collateral"], a: 1 },
      { q: "What kind of assets does Canton aim to support in its ecosystem?", options: ["Only cryptocurrencies","Regulatory-grade tokenized securities, stablecoins, yield assets","Only NFTs","Only proprietary tokens"], a: 1 },
      { q: "How can one request access to run a validator on Canton?", options: ["By submitting code to GitHub","Via the Global Synchronizer Foundation validator request","By sending an email to support","Through any major exchange"], a: 1 },
      { q: "Which of the following is not a use case category shown in the header navigation on that page?", options: ["Crypto Derivatives","Stablecoin Payments","On-chain Financing","Decentralized Identity"], a: 3 },
      { q: "Which statement is highlighted as a testimonial about Canton’s advantage?", options: ["Canton offers zero fees for all users","Privacy of assets and transactions is crucial for trading use cases","Canton will support Bitcoin Layer 2","Canton is fully open-source only"], a: 1 }
    ];

    let currentIndex = 0;
    const total = quizData.length;
    const userAnswers = new Array(total).fill(null);

    const quizEl = document.getElementById('quiz');
    const resultsEl = document.getElementById('results');
    const finalScoreEl = document.getElementById('finalScore');
    const finalDetailsEl = document.getElementById('finalDetails');
    const answerReviewEl = document.getElementById('answerReview');

    function renderQuestion(index){
      const item = quizData[index];
      quizEl.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div style="font-weight:700">Question ${index+1} of ${total}</div>
          <div style="width:40%;">
            <div class="progress" aria-hidden="true"><i style="width:${Math.round(((index)/total)*100)}%"></i></div>
          </div>
        </div>

        <div style="margin-top:12px" class="card">
          <div class="question">${escapeHtml(item.q)}</div>
          <div class="options" role="radiogroup" aria-labelledby="q${index}">
            ${item.options.map((opt,i)=>`
              <label class="opt" tabindex="0">
                <input type="radio" name="opt" value="${i}" ${userAnswers[index]===i? 'checked' : ''} />
                <span>${escapeHtml(opt)}</span>
              </label>
            `).join('')}
          </div>

          <footer class="controls">
            <div>
              <button id="prev" class="ghost" ${index===0? 'disabled' : ''}>Previous</button>
              <button id="next">${index===total-1? 'Submit' : 'Next'}</button>
            </div>
            <div style="color:var(--muted);font-size:.95rem">Project: <strong>Canton Network</strong></div>
          </footer>
        </div>
      `;

      // attach listeners
      quizEl.querySelectorAll('.opt').forEach((lab, i)=>{
        lab.addEventListener('click', ()=>{
          userAnswers[index] = i;
          lab.querySelector('input').checked = true;
        });
        lab.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); lab.click(); } });
      });

      document.getElementById('prev').addEventListener('click', ()=>{ if(index>0){ currentIndex--; renderQuestion(currentIndex); } });
      document.getElementById('next').addEventListener('click', ()=>{
        // ensure answer picked before moving forward, but allow skip
        if(index < total-1){ currentIndex++; renderQuestion(currentIndex); }
        else{ submitQuiz(); }
      });
    }

    function submitQuiz(){
      // calculate score
      let score=0;
      quizData.forEach((q,i)=>{ if(userAnswers[i] === q.a) score++; });
      finalScoreEl.textContent = `${score} / ${total}`;
      const percent = Math.round((score/total)*100);
      finalDetailsEl.textContent = `Percentage: ${percent}% — ${percent>=80? 'Great job!' : percent>=50? 'Nice effort!' : 'Keep learning.'}`;

      // build answer review
      answerReviewEl.innerHTML = '';
      quizData.forEach((q,i)=>{
        const correct = q.a;
        const user = userAnswers[i];
        const node = document.createElement('div');
        node.style.padding = '10px';
        node.style.borderRadius = '8px';
        node.style.marginBottom = '8px';
        node.style.background = 'rgba(0,0,0,0.15)';
        node.innerHTML = `
          <div style="font-weight:700">Q${i+1}: ${escapeHtml(q.q)}</div>
          <div style="margin-top:6px">Your answer: <strong>${user==null? '<span style=color:var(--muted)>No answer</span>' : escapeHtml(q.options[user])}</strong></div>
          <div>Correct answer: <strong>${escapeHtml(q.options[correct])}</strong></div>
        `;
        if(user === correct){ node.style.borderLeft = '6px solid rgba(26,168,118,0.9)'; }
        else{ node.style.borderLeft = '6px solid rgba(255,96,96,0.9)'; }
        answerReviewEl.appendChild(node);
      });

      // show results
      resultsEl.style.display = 'block';
      resultsEl.setAttribute('aria-hidden','false');
      // hide quiz (or keep it) — we'll replace content with a summary
      quizEl.style.display = 'none';

      // attach buttons
      document.getElementById('restart').addEventListener('click', ()=>{ resetQuiz(); });
      document.getElementById('showAnswers').addEventListener('click', ()=>{ showCorrectAnswers(); });
    }

    function showCorrectAnswers(){
      // populate quiz area with all questions and highlight correct answers
      quizEl.style.display = 'block';
      resultsEl.setAttribute('aria-hidden','true');
      resultsEl.style.display = 'none';

      quizEl.innerHTML = quizData.map((q,i)=>{
        return `
          <div class="card" style="margin-bottom:10px">
            <div class="question">Q${i+1}: ${escapeHtml(q.q)}</div>
            <div class="options">
              ${q.options.map((opt,idx)=>{
                const cls = (idx===q.a)? 'style="border-left:4px solid var(--accent);padding-left:8px"' : '';
                return `<div class="opt" ${cls}>${escapeHtml(opt)}</div>`;
              }).join('')}
            </div>
          </div>
        `;
      }).join('');

      // add a back button
      const back = document.createElement('div');
      back.style.marginTop = '8px';
      back.innerHTML = '<button id="backToResults" class="ghost">Back to Results</button>';
      quizEl.appendChild(back);
      document.getElementById('backToResults').addEventListener('click', ()=>{ resultsEl.style.display='block'; quizEl.style.display='none'; resultsEl.setAttribute('aria-hidden','false'); });
    }

    function resetQuiz(){
      currentIndex = 0;
      for(let i=0;i<userAnswers.length;i++) userAnswers[i]=null;
      resultsEl.style.display = 'none';
      quizEl.style.display = 'block';
      renderQuestion(currentIndex);
    }

    // basic html escaping
    function escapeHtml(str){ return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;'); }

    // start
    renderQuestion(0);
  </script>
</body>
</html>
